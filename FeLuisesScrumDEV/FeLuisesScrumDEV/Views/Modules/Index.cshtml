@{
    ViewBag.Title = "Home Page";
    Layout = "~/Views/Shared/_Layout.cshtml";

}
    <link href="~/FeStyles/feLuisesStyles.css" rel="stylesheet" type="text/css">

@model IEnumerable<FeLuisesScrumDEV.viewModel.IndexViewModel>

@{
    ViewBag.Title = "Index";
}
    <div class=" container">
        <h2>Module Index</h2>

        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script>
            $(document).ready(function () {
                $("#moduletable").show();
                $("#modulecards").hide();
                $("#toggle").click(function () {
                    $("#moduletable").toggle();
                    $("#modulecards").toggle();
                });
            });
        </script>
        <div class="float-md-right">
            <button type="button" class="btn btn-info" id="toggle">Toggle view</button>
        </div>
        <p></p>
        <section id="modulecards">
            @foreach (var item in Model)
            {
                <div class="card rounded" style="width: auto; height: auto;" id="border-Fe">

                    <div class="card-header text-white" id="back-Fe">
                        <p class="card-text text-white">@item.Project.projectName</p>
                    </div>
                </div>
                <div class="card-body">
                    <div class="row">
                        @foreach (var module in item.AssociatedModules)
                        {
                            <div class="col-sm-6">
                                <div class="card border-dark shadow rounded">
                                    <div class="card">
                                        <div class="card-header" id="back-Fe1">

                                            <a class="btn" role="button" href="@Url.Action("Details", "Modules", new { idProjectFKPK = module.idProjectFKPK, idModulePK = module.idModulePK } )">@module.name</a>
                                            @*
                                            @Html.ActionLink("Módulo " + module.name, "Details", new { idProjectFKPK = module.idProjectFKPK, idModulePK = module.idModulePK })
                                        *@
                                                </div>
                                        <div class="card-body">
                                            <p class="card-text">Requerimientos iran aquí.</p>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        }
                    </div>
                </div>
                <p></p>
            }
        </section>
        <table id="moduletable" class="table table-striped table-bordered" style="width:100%">
            <thead>
                <tr>
                    <th>
                        Módulo
                    </th>
                    <th>
                        Proyecto
                    </th>
                    <th></th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model)
                {
                    foreach (var module in item.AssociatedModules)
                    {
                        <tr>
                            <td>
                                
                                <a class="btn" role="button" href="@Url.Action("Details", "Modules", new { idProjectFKPK = module.idProjectFKPK, idModulePK = module.idModulePK } )">@module.name</a>
                            </td>
                            <td>
                                @module.Project.projectName
                            </td>
                            <td>
                                @Html.ActionLink("Detailsi", "Details", new { idProjectFKPK = module.idProjectFKPK, idModulePK = module.idModulePK }, new { @class = "btn btn-primary" })
                                <!--Algo patsa con su edit desde acá talvez la cagué jeje-->
                                <a class="btn" role="button" href="@Url.Action("Edit", "Modules", new { idProjectFKPK = module.idProjectFKPK, idModulePK = module.idModulePK } )">
                                    <img src="~/Images/edit.svg" width="25" height="25" class="d-inline-block align-top" alt="">
                                </a>

                            </td>
                        </tr>
                    }
                }
            </tbody>
            <tfoot>
                <tr>
                    <th>
                        Módulo
                    </th>
                    <th>
                        Proyecto
                    </th>
                    <th></th>
                </tr>
            </tfoot>
        </table>

        <a class="btn btn-outline" role="button" href=@Url.Action("Create", "Modules" )>
            <img src="~/Images/add.svg" width="60" height="60" class="d-inline-block align-top" alt="">
        </a>
    </div>