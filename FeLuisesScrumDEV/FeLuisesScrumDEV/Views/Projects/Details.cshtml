@{
    ViewBag.Title = "Home Page";
    Layout = "~/Views/Shared/_Layout.cshtml";
}

@model FeLuisesScrumDEV.Models.Project

@{
    ViewBag.Title = "Details";
}

<link href="~/FeStyles/feLuisesStyles.css" rel="stylesheet" type="text/css">

@if (Session["userName"] == null)
{

    <div class="container">

        <div class="card">
            <div class="card-header">
                <h2 id="heading-red">No se vale hackear!</h2>
            </div>
            <div class="card-body">
                <h5 class="card-title">Debe logguearse para hacer uso de la aplicación</h5>
                <a href=@Url.Action("Index", "Login") class="btn btn-danger">Volver</a>
            </div>
        </div>
    </div>
}
else
{
    <div class=" container">
        <h2>Detalle de Proyecto</h2>
        <hr />
        <div class="card rounded border-dark" id="shadow-Fe1" style="width: auto; height:auto;">
            <h2 class="card-header text-white" id="back-Fe1">@Model.projectName</h2>
            <div class="card-body">
                <dl class="dl-horizontal">
                    <dt>
                        <b>Nombre del Proyecto</b>
                    </dt>

                    <dd>
                        @Html.DisplayFor(model => model.projectName)
                        @if (Model.projectName == null)
                        {
                            <p class="card-text text-info">Informacion no disponible</p>
                        }
                    </dd>

                    <dt>
                        <b>Objetivo</b>
                    </dt>

                    <dd>
                        @Html.DisplayFor(model => model.objective)
                        @if (Model.objective == null)
                        {
                            <p class="card-text text-info">Informacion no disponible</p>
                        }
                    </dd>

                    <dt>
                        <b>Costo Estimado</b>
                    </dt>

                    <dd>
                        @Html.DisplayFor(model => model.estimatedCost)
                        @if (Model.estimatedCost == null)
                        {
                            <p class="card-text text-info">Informacion no disponible</p>
                        }
                    </dd>

                    <dt>
                        <b>Costo Real</b>
                    </dt>

                    <dd>
                        @Html.DisplayFor(model => model.realCost)
                        @if (Model.realCost == null)
                        {
                            <p class="card-text text-info">Informacion no disponible</p>
                        }
                    </dd>

                    <dt>
                        <b>Fecha de Inicio</b>
                    </dt>

                    <dd>
                        @Html.DisplayFor(model => model.startingDate)
                        @if (Model.startingDate == null)
                        {
                            <p class="card-text text-info">Informacion no disponible</p>
                        }
                    </dd>

                    <dt>
                        <b>Fecha de Finalización</b>
                    </dt>

                    <dd>
                        @Html.DisplayFor(model => model.finishingDate)
                        @if (Model.finishingDate == null)
                        {
                            <p class="card-text text-info">Informacion no disponible</p>
                        }
                    </dd>

                    <dt>
                        <b>Presupuesto</b>
                    </dt>

                    <dd>
                        @Html.DisplayFor(model => model.budget)
                        @if (Model.budget == null)
                        {
                            <p class="card-text text-info">Informacion no disponible</p>
                        }
                    </dd>

                    <dt>
                        <b>Duración Estimada</b>
                    </dt>

                    <dd>
                        @Html.DisplayFor(model => model.estimatedDuration)
                        @if (Model.estimatedDuration == null)
                        {
                            <p class="card-text text-info">Informacion no disponible</p>
                        }
                    </dd>

                    <dt>
                        <b>Cliente</b>
                    </dt>

                    <dd>
                        @Html.DisplayFor(model => model.Client.clientName)
                        @if (Model.Client.clientName == null)
                        {
                            <p class="card-text text-info">Informacion no disponible</p>
                        }
                    </dd>
                    <dt>
                        <b>Líder</b>
                    </dt>

                    <dd>
                        @Html.Display("idLiderFK")
                    </dd>
                </dl>
            </div>
            <div class="card-footer" id="back-Fe1">
                <a class="btn" role="button" href="@Url.Action("Index", "Projects", null)">
                    <img src="~/Images/b-back.svg" width="30" height="30" class="d-inline-block align-top" alt="">
                </a>

                @if (Convert.ToInt32(Session["userRole"]) == 0) // Solo si es jefe desarrollador
                {
                    <a class="btn" role="button" href="@Url.Action("Edit", "Projects", new { id = Model.idProjectPK })">
                        <img src="~/Images/edit.svg" width="30" height="30" class="d-inline-block align-top" alt="">
                    </a>
                    <a class="btn btn-outline-danger" role="button" href="@Url.Action("Delete", "Projects", new { id = Model.idProjectPK })">
                        <img src="~/Images/delete.svg" width="30" height="30" class="d-inline-block align-top" alt="">
                    </a>
                }
            </div>
        </div>
    </div>
}